package game.tankwar;
import java.awt.Graphics;
import java.util.*;
public class Map
{
   List<Wall> walls;
   String wname;
   TankClient tc;
   
   public int flag = 1;
   public static int [][] mapArray;//当前地图数组
   
  // 5是我方坦克,6是老家的位置，4 表示敌方坦克的初始位置  3是水，2是石头墙，1是砖墙 ，0表示道路
   public static int [][] mapArray1=
   {  
	  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}, 
	  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}, 
	  {0,0,0,1,1,1,1,1,0,0,4,0,0,0,0,0,1,1,1,1,1,1,0,0,4,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0},
	  {0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0},
	  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	  {0,0,2,2,2,2,2,0,0,0,0,0,2,0,0,0,0,0,0,2,0,0,0,0,0,2,0,0,0,0,2,0,0,2,0,0,0,0,0,0},
	  {0,0,0,0,2,0,0,0,0,0,0,2,0,2,0,0,0,0,0,2,2,0,0,0,0,2,0,0,0,0,2,0,2,0,0,0,0,0,0,0},   
	  {0,0,0,0,2,0,0,0,0,0,2,0,0,0,2,0,0,0,0,2,0,2,0,0,0,2,0,0,0,0,2,2,0,0,0,0,0,0,0,0},	   
	  {0,0,0,0,2,0,0,0,0,0,2,2,2,2,2,0,0,0,0,2,0,0,2,0,0,2,0,0,0,0,2,2,0,0,0,0,0,0,0,0},
	  {0,0,0,0,2,0,0,0,0,0,2,0,0,0,2,0,0,0,0,2,0,0,0,2,0,2,0,0,0,0,2,0,2,0,0,0,0,0,0,0},
	  {0,0,0,0,2,0,0,0,0,0,2,0,0,0,2,0,0,0,0,2,0,0,0,0,2,2,0,0,0,0,2,0,0,2,0,0,0,0,0,0},
	  {0,0,0,0,2,0,0,0,0,0,2,0,0,0,2,0,0,0,0,2,0,0,0,0,0,2,0,0,0,0,2,0,0,0,2,0,0,0,0,0},
	  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	  {0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	  {0,0,3,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,3,3,3,0,0,0,0,0,0,0,0,0,0},
	  {0,0,3,0,0,0,0,0,0,0,3,0,0,0,0,0,0,3,0,3,0,0,0,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0,0},
	  {0,0,3,0,0,0,0,0,0,0,3,0,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0,0},
	  {0,0,3,0,0,0,0,0,0,0,3,0,0,0,0,0,3,3,3,3,3,0,0,0,0,0,0,3,0,3,0,0,0,0,0,0,0,0,0,0},
	  {0,0,3,0,0,0,0,0,0,0,3,0,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,0,0,0},
	  {0,0,3,0,0,0,3,0,0,0,3,0,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,3,0,3,0,0,0,0,0,0,0,0,0,0},
	  {0,0,0,3,0,3,0,3,0,3,0,0,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0,0},
	  {0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,0},
	  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	  {0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0},
	  {0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0},
	  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0},
	  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	  {0,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0},
	  {0,1,1,1,2,0,5,0,0,2,0,0,0,0,1,1,1,0,6,0,0,1,1,1,0,0,0,1,1,1,1,0,0,4,0,0,0,0,0,0},
	  {0,1,1,1,2,0,0,0,0,2,0,0,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0},
   };
   public static int [][] mapArray2=
   {  
	  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}, 
	  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}, 
	  {0,0,0,0,1,1,1,1,0,0,4,0,1,1,1,1,0,0,3,3,3,3,0,0,1,1,1,1,0,0,4,0,0,0,1,1,1,1,0,0},
	  {0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,3,3,3,3,0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0},
	  {0,0,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,0,0,0,0},
	  {0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0},
	  {0,0,1,1,1,1,0,4,0,0,0,0,0,3,3,1,1,1,1,1,1,1,1,1,1,3,3,0,0,0,0,4,0,0,1,1,1,1,0,0},	   
	  {0,0,1,1,1,1,0,0,0,0,0,0,0,3,3,1,1,1,1,1,1,1,1,1,1,3,3,0,0,0,0,0,0,0,1,1,1,1,0,0},	   
	  {0,0,1,1,1,1,0,0,0,0,0,0,0,3,3,1,1,1,1,1,1,1,1,1,1,3,3,0,0,0,0,0,0,0,1,1,1,1,0,0}, 
	  {0,0,1,1,1,1,0,0,0,0,0,0,0,3,3,1,1,1,1,1,1,1,1,1,1,3,3,0,0,0,0,0,0,0,1,1,1,1,0,0},
	  {0,0,1,1,1,1,0,0,0,0,0,0,0,3,3,1,1,1,1,1,1,1,1,1,1,3,3,0,0,0,0,0,0,0,1,1,1,1,0,0},
	  {0,0,1,1,1,1,0,0,0,0,0,0,0,3,3,1,1,1,1,1,1,1,1,1,1,3,3,0,0,0,0,0,0,0,1,1,1,1,0,0},
	  {0,0,1,1,1,1,0,0,0,0,0,0,0,3,3,1,1,1,1,1,1,1,1,1,1,3,3,0,0,0,0,0,0,0,1,1,1,1,0,0},
	  {0,0,1,1,1,1,2,2,2,2,0,0,0,3,3,1,1,1,1,1,1,1,1,1,1,3,3,0,0,2,2,2,2,0,1,1,1,1,0,0},
	  {0,0,1,1,1,1,2,2,2,2,0,0,0,3,3,3,3,1,1,1,1,1,1,3,3,3,3,0,0,2,2,2,2,0,1,1,1,1,0,0},
	  {0,0,1,1,1,1,0,0,0,0,0,0,0,3,3,3,3,1,1,1,1,1,1,3,3,3,3,0,0,0,0,0,0,0,1,1,1,1,0,0},
	  {0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,1,1,1,1,0,0},
	  {0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0},
	  {0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	  {0,1,1,1,1,1,1,0,0,0,4,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0},
	  {0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0},
	  {0,1,1,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,4,0,0,3,3,3,3,1,1,0,0},
	  {0,1,1,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,1,1,0,0},
	  {0,1,1,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,1,1,0,0},
	  {0,1,1,3,3,3,3,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,3,3,3,3,1,1,0,0},
	  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0},
	  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0},
	  {0,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0},
	  {0,1,1,0,1,0,0,0,0,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	  {0,1,1,0,1,0,0,0,0,1,0,0,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0,1,1,1,1,0,0,0,0,4,0,0,0,0},
	  {0,1,1,0,2,0,5,0,0,2,0,0,0,0,1,1,1,0,6,0,0,1,1,1,0,0,0,1,2,2,1,0,0,0,0,0,0,0,0,0},
	  {0,1,1,0,2,0,0,0,0,2,0,0,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0,1,2,2,1,0,0,0,0,0,0,0,0,0},
   };
   
   public static int [][] mapArray3=
   {   
	  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}, 
	  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},  
	  {4,0,0,0,1,3,3,1,0,0,4,0,0,0,1,3,3,1,0,0,4,0,0,0,1,3,3,1,0,0,4,0,0,0,1,3,3,1,0,0},
	  {0,0,0,0,1,3,3,1,0,0,0,0,0,0,1,3,3,1,0,0,0,0,0,0,1,3,3,1,0,0,0,0,0,0,1,3,3,1,0,0},
	  {0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0},
	  {0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0},
	  {0,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0},	   
	  {0,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0},	   
	  {0,2,1,1,1,2,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,2,1,1,1,2,0,0}, 
	  {0,2,1,1,1,2,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,2,1,1,1,2,0,0},
	  {0,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,1,0,0},
	  {0,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,0,0},
	  {0,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,0,0},
	  {0,2,1,1,1,2,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,2,1,1,1,2,0,0},
	  {0,2,1,1,1,2,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,2,1,1,1,2,0,0},
	  {0,2,1,1,1,2,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,2,1,1,1,2,0,0},
	  {0,2,1,1,1,2,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,4,0,0,0,2,1,1,1,2,0,0},
	  {0,0,0,4,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	  {0,0,0,0,0,0,0,0,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	  {0,0,0,0,0,0,0,0,0,1,0,1,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0},
	  {0,0,1,1,1,1,1,0,0,0,1,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,1,3,3,3,3,3,3,3,3,1,0,0,0},
	  {0,1,1,1,1,1,1,0,0,1,0,1,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,1,3,3,3,3,3,3,3,3,1,0,0,0},
	  {0,0,0,0,0,2,0,2,1,0,0,0,1,0,0,0,0,1,1,1,0,0,0,0,0,0,0,1,3,3,3,3,3,3,3,3,1,0,0,0},
	  {0,0,0,0,2,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,3,3,3,3,3,3,3,3,1,0,0,0},
	  {0,4,0,0,0,2,0,2,0,0,0,0,0,0,0,2,0,0,2,0,0,2,0,0,0,0,0,1,3,3,3,3,3,3,3,3,1,0,0,0},
	  {0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0},
	  {4,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0},
	  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0},
	  {0,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0},
	  {0,1,1,0,1,0,0,0,0,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
	  {0,1,1,0,1,0,0,0,0,1,0,0,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0},
	  {0,1,1,0,2,0,5,0,0,2,0,0,0,0,1,1,1,0,6,0,0,1,1,1,0,0,0,1,2,2,1,0,0,4,0,0,0,0,0,0},
	  {0,1,1,0,2,0,0,0,0,2,0,0,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0,1,2,2,1,0,0,0,0,0,0,0,0,0},
   };
   public Map(TankClient tc)
   {
	   this.tc = tc;

	   Init();
   }
   public void Init()
   {   
	   tc.waitT = 10;
	   walls= new ArrayList<Wall>();
	   if(flag==1)mapArray = mapArray1;
	   else if(flag==2)mapArray = mapArray2;
	   else if(flag==3)mapArray = mapArray3;
	   for(int i =0;i<mapArray[0].length;i++)
	   for(int j = 0;j<mapArray.length;j++)
	   {   
		   int n = mapArray[j][i];
		   if(n==1)wname = "lbrick";
		   else if(n==2)wname = "steel";
		   else if(n==3)wname ="lake";
		   else if(n==4)
		   {
			   Tank tank = new Tank(32+i*Wall.W,32+j*Wall.H,false,tc);
			   tc.t.add(tank);
			   continue;
		   }
		   else if(n==5)
		   {
			   tc.mytank = new Tank(32+i*Wall.W,32+j*Wall.H,true,tc);
			   continue;
		   }
		   else if(n==6)
		   {
			   tc.eagle = new Eagle(32+i*Wall.W,32+j*Wall.H);
		   }
		   else wname =null;
		   if(wname!=null)
		   { 
			  Wall w = new Wall(wname,32+i*Wall.W,32+j*Wall.H);
		      walls.add(w);
		      
		   }
	
	   }
   }
   public  synchronized void draw(Graphics g)
   {   
	   for(int i =0;i<walls.size();i++)
	   {
		   Wall w = walls.get(i);
		   if(!w.isLive()) walls.remove(w);
	   }
	   for(int i =0 ;i<walls.size();i++)
	   {    
		   Wall w = walls.get(i);
		   w.draw(g);
		   
	   }
   }
}
